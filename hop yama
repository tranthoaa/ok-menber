local RS = game:GetService("ReplicatedStorage")
local CommF_ = RS.Remotes.CommF_

-- ===== CHECK ELITE =====
local function HasElite()
    local ok, msg = pcall(function()
        return CommF_:InvokeServer("EliteHunter")
    end)

    if not ok or type(msg) ~= "string" then
        return false
    end

    msg = msg:lower()
    return msg:find("deandre")
        or msg:find("urban")
        or msg:find("diavolo")
end

-- ===== MAIN =====
if HasElite() then
    print("üî• C√≥ Elite ‚Üí ch·∫°y script ch√≠nh")

    -- üî¥ LINK 1: THAY SCRIPT B·∫†N MU·ªêN CH·∫†Y ·ªû ƒê√ÇY
    loadstring(https://raw.githubusercontent.com/tranthoaa/ok-menber/refs/heads/main/lay%20yama"))()

else
    print("‚ùå Kh√¥ng c√≥ Elite ‚Üí ch·∫°y hop low server")

    local TS = game:GetService("TeleportService")
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")

local plr = Players.LocalPlayer
local placeId = game.PlaceId

-- l∆∞u server ƒë√£ v√†o
local Joined = {}
Joined[game.JobId] = true

local HttpService = game:GetService("HttpService")
local TS = game:GetService("TeleportService")
local Players = game:GetService("Players")

local plr = Players.LocalPlayer
local placeId = game.PlaceId

-- table l∆∞u server ƒë√£ join (tr√°nh join l·∫°i)
local Joined = {}

-- ===== H√ÄM HOP SERVER =====
local function HopLowPlayer()
    -- URL l·∫•y server list
    local url = "https://games.roblox.com/v1/games/" .. placeId .. "/servers/Public?sortOrder=Asc&limit=50"

    local success, result = pcall(function()
        return HttpService:JSONDecode(game:HttpGet(url))
    end)

    if not success or not result or not result.data then
        warn("‚ùå L·∫•y server list th·∫•t b·∫°i ‚Üí teleport fallback")
        TS:Teleport(placeId, plr)
        return
    end

    local bestServer
    local lowest = math.huge

    for _, s in pairs(result.data) do
        if not Joined[s.id] and s.playing < s.maxPlayers then
            if s.playing < lowest then
                lowest = s.playing
                bestServer = s
            end
        end
    end

    if bestServer then
        Joined[bestServer.id] = true
        print("üåê Hop server:", bestServer.id, "s·ªë ng∆∞·ªùi:", bestServer.playing)
        TS:TeleportToPlaceInstance(placeId, bestServer.id, plr)
    else
        -- fallback nhanh
        print("‚ö†Ô∏è Kh√¥ng t√¨m ƒë∆∞·ª£c server tr·ªëng, teleport fallback")
        TS:Teleport(placeId, plr)
    end
end

-- ===== DELAY 10 GI√ÇY =====
print("‚è≥ Ch·ªù 10 gi√¢y tr∆∞·ªõc khi hop server...")
task.wait(10)

HopLowPlayer()

end
